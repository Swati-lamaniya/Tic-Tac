{"ast":null,"code":"var _jsxFileName = \"E:\\\\sql-node\\\\Tic-Tac-Toe-Fullstack-Game\\\\frontend\\\\src\\\\components\\\\Profile.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Box, Typography, TextField, IconButton, CircularProgress, Avatar, Button, InputAdornment } from \"@mui/material\";\nimport { GitHub, LinkedIn, Facebook, Instagram, Twitter, Edit as EditIcon, Save as SaveIcon, AccountCircle, SportsEsports, Cake, Info, Search } from \"@mui/icons-material\";\nimport { api } from \"../utils/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const [profile, setProfile] = useState(null);\n  const [isEditing, setIsEditing] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [savingField, setSavingField] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [loadingPlatform, setLoadingPlatform] = useState({});\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const searchTimeoutRef = useRef(null);\n  const [currentUserUsername, setCurrentUserUsername] = useState(\"\");\n  const [isCurrentUser, setIsCurrentUser] = useState(true);\n  const defaultAvatars = [\"/OIP.jpg\", \"/OIP2.webp\", \"/OIP3.png\", \"/OIP4.png\", \"/OIP5.png\", \"/OIP6.webp\", \"/OIP7.webp\", \"/OIP8.webp\", \"/OIP9.webp\", \"/OIP10.webp\", \"/OIP11.webp\", \"/OIP12.webp\", \"/OIP13.webp\", \"/OIP14.webp\", \"/OIP15.webp\", \"/OIP16.webp\", \"/OIP17.webp\", \"/OIP18.webp\", \"/OIP19.webp\", \"/OIP20.webp\"];\n  const lastDefaultAvatarIndexRef = useRef(null);\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [currentDefaultAvatar, setCurrentDefaultAvatar] = useState(() => {\n    const randomIndex = Math.floor(Math.random() * defaultAvatars.length);\n    lastDefaultAvatarIndexRef.current = randomIndex;\n    return defaultAvatars[randomIndex];\n  });\n\n  // Fetch current user's username on mount\n  useEffect(() => {\n    api.get(\"/profile\", {\n      headers: {\n        Authorization: `Bearer ${sessionStorage.getItem(\"token\")}`\n      }\n    }).then(response => {\n      setCurrentUserUsername(response.data.username);\n    }).catch(error => {\n      console.error(\"Failed to fetch current user's username:\", error);\n    });\n  }, []);\n\n  // Fetch profile data based on searchQuery, with debounce of 750ms\n  useEffect(() => {\n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n    searchTimeoutRef.current = setTimeout(() => {\n      setLoading(true);\n      setError(\"\");\n      let endpoint = \"/profile\";\n      const headers = {\n        Authorization: `Bearer ${sessionStorage.getItem(\"token\")}`\n      };\n      if (searchQuery.trim() !== \"\") {\n        endpoint = `/profile/search?username=${encodeURIComponent(searchQuery.trim())}`;\n      }\n      api.get(endpoint, {\n        headers\n      }).then(response => {\n        setProfile(response.data);\n        setError(\"\");\n        if (searchQuery.trim() === \"\") {\n          setIsCurrentUser(true);\n        } else {\n          setIsCurrentUser(response.data.username === currentUserUsername);\n        }\n      }).catch(error => {\n        console.error(\"Failed to fetch profile:\", error);\n        if (error.response && error.response.status === 404) {\n          setError(\"User not found.\");\n        } else {\n          setError(\"Failed to load profile data.\");\n        }\n        setProfile(null);\n      }).finally(() => setLoading(false));\n    }, 750);\n    return () => {\n      if (searchTimeoutRef.current) {\n        clearTimeout(searchTimeoutRef.current);\n      }\n    };\n  }, [searchQuery, currentUserUsername]);\n\n  // Toggle edit mode for a specific field\n  const handleEditToggle = field => {\n    setIsEditing(prev => ({\n      ...prev,\n      [field]: !prev[field]\n    }));\n  };\n\n  // Handle profile state changes for specific fields\n  const handleProfileChange = (field, value) => {\n    setProfile(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  // Save changes for a specific field\n  const handleFieldSave = async field => {\n    setSavingField(field);\n    setError(\"\");\n    try {\n      var _profile$socialMedia;\n      if (field === \"dob\") {\n        const minDate = new Date(\"1900-01-01\");\n        const maxDate = new Date();\n        const selectedDate = new Date(profile.dob);\n        if (selectedDate < minDate || selectedDate > maxDate) {\n          alert(\"Date of Birth must be between January 1, 1900, and today.\");\n          setSavingField(null); // Reset the saving state\n          return; // Do not proceed with saving\n        }\n      }\n      const dataToUpdate = {};\n      if (field === \"dob\" || field === \"bio\") {\n        dataToUpdate[field] = profile[field];\n      } else if (field in profile.socialMedia || !((_profile$socialMedia = profile.socialMedia) !== null && _profile$socialMedia !== void 0 && _profile$socialMedia[field])) {\n        var _profile$socialMedia2;\n        dataToUpdate.socialMedia = {\n          ...(profile.socialMedia || {}),\n          [field]: ((_profile$socialMedia2 = profile.socialMedia) === null || _profile$socialMedia2 === void 0 ? void 0 : _profile$socialMedia2[field]) || \"\"\n        };\n      }\n      await api.put(\"/profile\", dataToUpdate, {\n        headers: {\n          Authorization: `Bearer ${sessionStorage.getItem(\"token\")}`\n        }\n      });\n      alert(`${field.toUpperCase()} updated successfully!`);\n      setIsEditing(prev => ({\n        ...prev,\n        [field]: false\n      }));\n    } catch (err) {\n      console.error(`Failed to update ${field}:`, err);\n      setError(`Failed to update ${field}. Please try again.`);\n    } finally {\n      setSavingField(null);\n    }\n  };\n  const formatSocialLink = (platform, username) => {\n    const baseUrls = {\n      github: \"https://github.com/\",\n      linkedin: \"https://linkedin.com/in/\",\n      facebook: \"https://facebook.com/\",\n      instagram: \"https://instagram.com/\",\n      twitter: \"https://twitter.com/\"\n    };\n    return username ? `${baseUrls[platform]}${username}` : \"\";\n  };\n  const extractUsername = url => {\n    const match = url.match(/(?:https?:\\/\\/)?(?:www\\.)?(?:github\\.com|linkedin\\.com\\/in|facebook\\.com|instagram\\.com|twitter\\.com|x\\.com)\\/([\\w-]+)/i);\n    return match ? match[1] : url;\n  };\n  const handleSocialMediaChange = (platform, value) => {\n    setProfile(prev => ({\n      ...prev,\n      socialMedia: {\n        ...(prev.socialMedia || {}),\n        [platform]: extractUsername(value)\n      }\n    }));\n  };\n  const handleSocialMediaSave = async platform => {\n    setLoadingPlatform(prevState => ({\n      ...prevState,\n      [platform]: true\n    }));\n    setError(\"\");\n    try {\n      var _profile$socialMedia3;\n      const updatedSocialMedia = {\n        ...profile.socialMedia,\n        [platform]: ((_profile$socialMedia3 = profile.socialMedia) === null || _profile$socialMedia3 === void 0 ? void 0 : _profile$socialMedia3[platform]) || \"\"\n      };\n      const dataToUpdate = {\n        socialMedia: updatedSocialMedia\n      };\n      await api.put(\"/profile\", dataToUpdate, {\n        headers: {\n          Authorization: `Bearer ${sessionStorage.getItem(\"token\")}`\n        }\n      });\n      alert(`${platform.charAt(0).toUpperCase() + platform.slice(1)} updated successfully!`);\n      setIsEditing(prev => ({\n        ...prev,\n        [platform]: false\n      }));\n    } catch (err) {\n      console.error(`Failed to update ${platform}:`, err);\n      setError(`Failed to update ${platform}. Please try again.`);\n    } finally {\n      setLoadingPlatform(prevState => ({\n        ...prevState,\n        [platform]: false\n      }));\n    }\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const handleKeyPress = (e, field) => {\n    if (e.key === \"Enter\") {\n      if (field in profile.socialMedia) {\n        handleSocialMediaSave(field);\n      } else {\n        handleFieldSave(field);\n      }\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"100vh\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      mt: 5,\n      mb: 5\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        maxWidth: 450,\n        minWidth: {\n          xs: \"90%\",\n          sm: 450\n        },\n        mx: \"auto\",\n        mb: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Search for Players\",\n        fullWidth: true,\n        margin: \"normal\",\n        value: searchQuery,\n        onChange: e => setSearchQuery(e.target.value),\n        InputProps: {\n          startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n            position: \"start\",\n            children: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this)\n        },\n        sx: {\n          \"& .MuiInputBase-input\": {\n            fontFamily: \"Poppins\"\n          },\n          \"& .MuiInputLabel-root\": {\n            fontFamily: \"Poppins\"\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), error ? /*#__PURE__*/_jsxDEV(Box, {\n      textAlign: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"error\",\n        sx: {\n          fontFamily: \"Poppins\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 9\n    }, this) : profile && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        maxWidth: 450,\n        minWidth: {\n          xs: \"90%\",\n          sm: 450\n        },\n        mx: \"auto\",\n        p: 3,\n        bgcolor: \"background.paper\",\n        borderRadius: 2,\n        boxShadow: \"0px 4px 10px rgba(0, 0, 0, 0.1)\",\n        textAlign: \"center\",\n        transition: \"transform 0.3s, box-shadow 0.3s\",\n        \"&:hover\": {\n          transform: \"translateY(-5px)\",\n          boxShadow: \"0px 8px 20px rgba(0, 0, 0, 0.2)\"\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        sx: {\n          fontFamily: \"Poppins\",\n          textAlign: \"center\",\n          fontWeight: \"bold\"\n        },\n        children: \"User Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        mb: 3,\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          src: profile.profilePicture || currentDefaultAvatar,\n          alt: profile.username || \"User\",\n          sx: {\n            width: 120,\n            height: 120,\n            border: \"3px solid #1976d2\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [error && /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          mb: 2,\n          textAlign: \"center\",\n          sx: {\n            fontFamily: \"Poppins\"\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mb: 2,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(AccountCircle, {\n            sx: {\n              mr: 1,\n              color: \"#1976d2\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            sx: {\n              fontFamily: \"Poppins\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Username:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 19\n            }, this), \" \", profile.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mb: 2,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(SportsEsports, {\n            sx: {\n              mr: 1,\n              color: \"#1976d2\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            sx: {\n              fontFamily: \"Poppins\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"ELO:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 19\n            }, this), \" \", profile.elo || \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mb: 2,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Cake, {\n            sx: {\n              mr: 1,\n              color: \"#1976d2\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            sx: {\n              fontFamily: \"Poppins\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Date of Birth:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 19\n            }, this), \" \", isCurrentUser && isEditing.dob ? /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              type: \"date\",\n              label: \"Date of Birth\",\n              value: profile.dob || \"\",\n              onChange: e => handleProfileChange(\"dob\", e.target.value),\n              onKeyPress: e => e.key === \"Enter\" && handleFieldSave(\"dob\"),\n              sx: {\n                fontFamily: \"Poppins\"\n              },\n              inputProps: {\n                style: {\n                  fontFamily: \"Poppins, sans-serif\"\n                }\n              },\n              InputLabelProps: {\n                style: {\n                  fontFamily: \"Poppins, sans-serif\"\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 21\n            }, this) : profile.dob || \"N/A\", isCurrentUser && /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: () => {\n                if (isEditing.dob) {\n                  handleFieldSave(\"dob\");\n                } else {\n                  handleEditToggle(\"dob\");\n                }\n              },\n              children: isEditing.dob ? savingField === \"dob\" ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 27\n              }, this) : /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 27\n              }, this) : /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mb: 2,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Info, {\n            sx: {\n              mr: 1,\n              color: \"#1976d2\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            sx: {\n              fontFamily: \"Poppins\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Bio:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 19\n            }, this), \" \", isCurrentUser && isEditing.bio ? /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              multiline: true,\n              label: \"Bio\",\n              rows: 3,\n              value: profile.bio || \"\",\n              onChange: e => handleProfileChange(\"bio\", e.target.value),\n              onKeyPress: e => e.key === \"Enter\" && handleFieldSave(\"bio\"),\n              sx: {\n                fontFamily: \"Poppins\"\n              },\n              inputProps: {\n                style: {\n                  fontFamily: \"Poppins, sans-serif\"\n                }\n              },\n              InputLabelProps: {\n                style: {\n                  fontFamily: \"Poppins, sans-serif\"\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 21\n            }, this) : profile.bio || \"No bio set\", isCurrentUser && /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: () => {\n                if (isEditing.bio) {\n                  handleFieldSave(\"bio\");\n                } else {\n                  handleEditToggle(\"bio\");\n                }\n              },\n              children: isEditing.bio ? savingField === \"bio\" ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 27\n              }, this) : /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 27\n              }, this) : /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 15\n        }, this), [\"github\", \"linkedin\", \"facebook\", \"instagram\", \"twitter\"].map(platform => {\n          var _profile$socialMedia4, _profile$socialMedia5, _profile$socialMedia6, _profile$socialMedia7;\n          return /*#__PURE__*/_jsxDEV(Box, {\n            mb: 2,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            children: [platform === \"github\" && /*#__PURE__*/_jsxDEV(GitHub, {\n              sx: {\n                mr: 1,\n                color: \"#1976d2\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 23\n            }, this), platform === \"linkedin\" && /*#__PURE__*/_jsxDEV(LinkedIn, {\n              sx: {\n                mr: 1,\n                color: \"#1976d2\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 23\n            }, this), platform === \"facebook\" && /*#__PURE__*/_jsxDEV(Facebook, {\n              sx: {\n                mr: 1,\n                color: \"#1976d2\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 23\n            }, this), platform === \"instagram\" && /*#__PURE__*/_jsxDEV(Instagram, {\n              sx: {\n                mr: 1,\n                color: \"#1976d2\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 23\n            }, this), platform === \"twitter\" && /*#__PURE__*/_jsxDEV(Twitter, {\n              sx: {\n                mr: 1,\n                color: \"#1976d2\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 23\n            }, this), isCurrentUser && isEditing[platform] ? /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: platform.charAt(0).toUpperCase() + platform.slice(1),\n              value: ((_profile$socialMedia4 = profile.socialMedia) === null || _profile$socialMedia4 === void 0 ? void 0 : _profile$socialMedia4[platform]) || \"\",\n              onChange: e => handleSocialMediaChange(platform, e.target.value),\n              onKeyPress: e => e.key === \"Enter\" && handleSocialMediaSave(platform),\n              sx: {\n                fontFamily: \"Poppins\"\n              },\n              inputProps: {\n                style: {\n                  fontFamily: \"Poppins, sans-serif\"\n                }\n              },\n              InputLabelProps: {\n                style: {\n                  fontFamily: \"Poppins, sans-serif\"\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 23\n            }, this) : (_profile$socialMedia5 = profile.socialMedia) !== null && _profile$socialMedia5 !== void 0 && _profile$socialMedia5[platform] ? /*#__PURE__*/_jsxDEV(Button, {\n              href: formatSocialLink(platform, (_profile$socialMedia6 = profile.socialMedia) === null || _profile$socialMedia6 === void 0 ? void 0 : _profile$socialMedia6[platform]),\n              target: \"_blank\",\n              sx: {\n                fontFamily: \"Poppins\"\n              },\n              children: (_profile$socialMedia7 = profile.socialMedia) === null || _profile$socialMedia7 === void 0 ? void 0 : _profile$socialMedia7[platform]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              sx: {\n                fontFamily: \"Poppins\"\n              },\n              children: \"Not Set\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 23\n            }, this), isCurrentUser && /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: () => {\n                if (isEditing[platform]) {\n                  handleSocialMediaSave(platform);\n                } else {\n                  handleEditToggle(platform);\n                }\n              },\n              children: isEditing[platform] ? loadingPlatform[platform] ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 29\n              }, this) : /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 29\n              }, this) : /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 23\n            }, this)]\n          }, platform, true, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 19\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 290,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"uEDHglu0SruABB9ZIDAXz19zkYY=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","Typography","TextField","IconButton","CircularProgress","Avatar","Button","InputAdornment","GitHub","LinkedIn","Facebook","Instagram","Twitter","Edit","EditIcon","Save","SaveIcon","AccountCircle","SportsEsports","Cake","Info","Search","api","jsxDEV","_jsxDEV","Profile","_s","profile","setProfile","isEditing","setIsEditing","loading","setLoading","savingField","setSavingField","error","setError","loadingPlatform","setLoadingPlatform","searchQuery","setSearchQuery","searchTimeoutRef","currentUserUsername","setCurrentUserUsername","isCurrentUser","setIsCurrentUser","defaultAvatars","lastDefaultAvatarIndexRef","currentDefaultAvatar","setCurrentDefaultAvatar","randomIndex","Math","floor","random","length","current","get","headers","Authorization","sessionStorage","getItem","then","response","data","username","catch","console","clearTimeout","setTimeout","endpoint","trim","encodeURIComponent","status","finally","handleEditToggle","field","prev","handleProfileChange","value","handleFieldSave","_profile$socialMedia","minDate","Date","maxDate","selectedDate","dob","alert","dataToUpdate","socialMedia","_profile$socialMedia2","put","toUpperCase","err","formatSocialLink","platform","baseUrls","github","linkedin","facebook","instagram","twitter","extractUsername","url","match","handleSocialMediaChange","handleSocialMediaSave","prevState","_profile$socialMedia3","updatedSocialMedia","charAt","slice","handleKeyPress","e","key","display","justifyContent","alignItems","height","children","fileName","_jsxFileName","lineNumber","columnNumber","sx","mt","mb","maxWidth","minWidth","xs","sm","mx","label","fullWidth","margin","onChange","target","InputProps","startAdornment","position","fontFamily","textAlign","variant","color","p","bgcolor","borderRadius","boxShadow","transition","transform","gutterBottom","fontWeight","src","profilePicture","alt","width","border","mr","elo","type","onKeyPress","inputProps","style","InputLabelProps","onClick","size","bio","multiline","rows","map","_profile$socialMedia4","_profile$socialMedia5","_profile$socialMedia6","_profile$socialMedia7","href","_c","$RefreshReg$"],"sources":["E:/sql-node/Tic-Tac-Toe-Fullstack-Game/frontend/src/components/Profile.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  IconButton,\r\n  CircularProgress,\r\n  Avatar,\r\n  Button,\r\n  InputAdornment,\r\n} from \"@mui/material\";\r\nimport {\r\n  GitHub,\r\n  LinkedIn,\r\n  Facebook,\r\n  Instagram,\r\n  Twitter,\r\n  Edit as EditIcon,\r\n  Save as SaveIcon,\r\n  AccountCircle,\r\n  SportsEsports,\r\n  Cake,\r\n  Info,\r\n  Search,\r\n} from \"@mui/icons-material\";\r\nimport { api } from \"../utils/api\";\r\n\r\nconst Profile: React.FC = () => {\r\n  const [profile, setProfile] = useState<any>(null);\r\n  const [isEditing, setIsEditing] = useState<{ [key: string]: boolean }>({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [savingField, setSavingField] = useState<string | null>(null);\r\n  const [error, setError] = useState(\"\");\r\n  const [loadingPlatform, setLoadingPlatform] = useState<{\r\n    [key: string]: boolean;\r\n  }>({});\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const searchTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n  const [currentUserUsername, setCurrentUserUsername] = useState(\"\");\r\n  const [isCurrentUser, setIsCurrentUser] = useState(true);\r\n\r\n  const defaultAvatars = [\r\n    \"/OIP.jpg\",\r\n    \"/OIP2.webp\",\r\n    \"/OIP3.png\",\r\n    \"/OIP4.png\",\r\n    \"/OIP5.png\",\r\n    \"/OIP6.webp\",\r\n    \"/OIP7.webp\",\r\n    \"/OIP8.webp\",\r\n    \"/OIP9.webp\",\r\n    \"/OIP10.webp\",\r\n    \"/OIP11.webp\",\r\n    \"/OIP12.webp\",\r\n    \"/OIP13.webp\",\r\n    \"/OIP14.webp\",\r\n    \"/OIP15.webp\",\r\n    \"/OIP16.webp\",\r\n    \"/OIP17.webp\",\r\n    \"/OIP18.webp\",\r\n    \"/OIP19.webp\",\r\n    \"/OIP20.webp\",\r\n  ];\r\n  const lastDefaultAvatarIndexRef = useRef<number | null>(null);\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  const [currentDefaultAvatar, setCurrentDefaultAvatar] = useState<string>(\r\n    () => {\r\n      const randomIndex = Math.floor(Math.random() * defaultAvatars.length);\r\n      lastDefaultAvatarIndexRef.current = randomIndex;\r\n      return defaultAvatars[randomIndex];\r\n    },\r\n  );\r\n\r\n  // Fetch current user's username on mount\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/profile\", {\r\n        headers: {\r\n          Authorization: `Bearer ${sessionStorage.getItem(\"token\")}`,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        setCurrentUserUsername(response.data.username);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Failed to fetch current user's username:\", error);\r\n      });\r\n  }, []);\r\n\r\n  // Fetch profile data based on searchQuery, with debounce of 750ms\r\n  useEffect(() => {\r\n    if (searchTimeoutRef.current) {\r\n      clearTimeout(searchTimeoutRef.current);\r\n    }\r\n\r\n    searchTimeoutRef.current = setTimeout(() => {\r\n      setLoading(true);\r\n      setError(\"\");\r\n\r\n      let endpoint = \"/profile\";\r\n      const headers = {\r\n        Authorization: `Bearer ${sessionStorage.getItem(\"token\")}`,\r\n      };\r\n\r\n      if (searchQuery.trim() !== \"\") {\r\n        endpoint = `/profile/search?username=${encodeURIComponent(\r\n          searchQuery.trim(),\r\n        )}`;\r\n      }\r\n\r\n      api\r\n        .get(endpoint, {\r\n          headers,\r\n        })\r\n        .then((response) => {\r\n          setProfile(response.data);\r\n          setError(\"\");\r\n\r\n          if (searchQuery.trim() === \"\") {\r\n            setIsCurrentUser(true);\r\n          } else {\r\n            setIsCurrentUser(response.data.username === currentUserUsername);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Failed to fetch profile:\", error);\r\n          if (error.response && error.response.status === 404) {\r\n            setError(\"User not found.\");\r\n          } else {\r\n            setError(\"Failed to load profile data.\");\r\n          }\r\n          setProfile(null);\r\n        })\r\n        .finally(() => setLoading(false));\r\n    }, 750);\r\n\r\n    return () => {\r\n      if (searchTimeoutRef.current) {\r\n        clearTimeout(searchTimeoutRef.current);\r\n      }\r\n    };\r\n  }, [searchQuery, currentUserUsername]);\r\n\r\n  // Toggle edit mode for a specific field\r\n  const handleEditToggle = (field: string) => {\r\n    setIsEditing((prev) => ({ ...prev, [field]: !prev[field] }));\r\n  };\r\n\r\n  // Handle profile state changes for specific fields\r\n  const handleProfileChange = (field: string, value: any) => {\r\n    setProfile((prev: any) => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  // Save changes for a specific field\r\n  const handleFieldSave = async (field: string) => {\r\n    setSavingField(field);\r\n    setError(\"\");\r\n\r\n    try {\r\n      if (field === \"dob\") {\r\n        const minDate = new Date(\"1900-01-01\");\r\n        const maxDate = new Date();\r\n        const selectedDate = new Date(profile.dob);\r\n\r\n        if (selectedDate < minDate || selectedDate > maxDate) {\r\n          alert(\"Date of Birth must be between January 1, 1900, and today.\");\r\n          setSavingField(null); // Reset the saving state\r\n          return; // Do not proceed with saving\r\n        }\r\n      }\r\n\r\n      const dataToUpdate: Partial<typeof profile> = {};\r\n\r\n      if (field === \"dob\" || field === \"bio\") {\r\n        dataToUpdate[field] = profile[field];\r\n      } else if (\r\n        field in profile.socialMedia ||\r\n        !profile.socialMedia?.[field]\r\n      ) {\r\n        dataToUpdate.socialMedia = {\r\n          ...(profile.socialMedia || {}),\r\n          [field]: profile.socialMedia?.[field] || \"\",\r\n        };\r\n      }\r\n\r\n      await api.put(\"/profile\", dataToUpdate, {\r\n        headers: {\r\n          Authorization: `Bearer ${sessionStorage.getItem(\"token\")}`,\r\n        },\r\n      });\r\n\r\n      alert(`${field.toUpperCase()} updated successfully!`);\r\n      setIsEditing((prev) => ({ ...prev, [field]: false }));\r\n    } catch (err) {\r\n      console.error(`Failed to update ${field}:`, err);\r\n      setError(`Failed to update ${field}. Please try again.`);\r\n    } finally {\r\n      setSavingField(null);\r\n    }\r\n  };\r\n\r\n  const formatSocialLink = (platform: string, username: string) => {\r\n    const baseUrls: Record<string, string> = {\r\n      github: \"https://github.com/\",\r\n      linkedin: \"https://linkedin.com/in/\",\r\n      facebook: \"https://facebook.com/\",\r\n      instagram: \"https://instagram.com/\",\r\n      twitter: \"https://twitter.com/\",\r\n    };\r\n    return username ? `${baseUrls[platform]}${username}` : \"\";\r\n  };\r\n\r\n  const extractUsername = (url: string) => {\r\n    const match = url.match(\r\n      /(?:https?:\\/\\/)?(?:www\\.)?(?:github\\.com|linkedin\\.com\\/in|facebook\\.com|instagram\\.com|twitter\\.com|x\\.com)\\/([\\w-]+)/i,\r\n    );\r\n    return match ? match[1] : url;\r\n  };\r\n\r\n  const handleSocialMediaChange = (platform: string, value: string) => {\r\n    setProfile((prev: any) => ({\r\n      ...prev,\r\n      socialMedia: {\r\n        ...(prev.socialMedia || {}),\r\n        [platform]: extractUsername(value),\r\n      },\r\n    }));\r\n  };\r\n\r\n  const handleSocialMediaSave = async (platform: string) => {\r\n    setLoadingPlatform((prevState) => ({ ...prevState, [platform]: true }));\r\n    setError(\"\");\r\n\r\n    try {\r\n      const updatedSocialMedia = {\r\n        ...profile.socialMedia,\r\n        [platform]: profile.socialMedia?.[platform] || \"\",\r\n      };\r\n\r\n      const dataToUpdate = { socialMedia: updatedSocialMedia };\r\n\r\n      await api.put(\"/profile\", dataToUpdate, {\r\n        headers: {\r\n          Authorization: `Bearer ${sessionStorage.getItem(\"token\")}`,\r\n        },\r\n      });\r\n\r\n      alert(\r\n        `${\r\n          platform.charAt(0).toUpperCase() + platform.slice(1)\r\n        } updated successfully!`,\r\n      );\r\n      setIsEditing((prev) => ({ ...prev, [platform]: false }));\r\n    } catch (err) {\r\n      console.error(`Failed to update ${platform}:`, err);\r\n      setError(`Failed to update ${platform}. Please try again.`);\r\n    } finally {\r\n      setLoadingPlatform((prevState) => ({\r\n        ...prevState,\r\n        [platform]: false,\r\n      }));\r\n    }\r\n  };\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  const handleKeyPress = (e: React.KeyboardEvent, field: string) => {\r\n    if (e.key === \"Enter\") {\r\n      if (field in profile.socialMedia) {\r\n        handleSocialMediaSave(field);\r\n      } else {\r\n        handleFieldSave(field);\r\n      }\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box\r\n        display=\"flex\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        height=\"100vh\"\r\n      >\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ mt: 5, mb: 5 }}>\r\n      {/* Search Field */}\r\n      <Box\r\n        sx={{\r\n          maxWidth: 450,\r\n          minWidth: { xs: \"90%\", sm: 450 },\r\n          mx: \"auto\",\r\n          mb: 3,\r\n        }}\r\n      >\r\n        <TextField\r\n          label=\"Search for Players\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          value={searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <Search />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n          sx={{\r\n            \"& .MuiInputBase-input\": {\r\n              fontFamily: \"Poppins\",\r\n            },\r\n            \"& .MuiInputLabel-root\": {\r\n              fontFamily: \"Poppins\",\r\n            },\r\n          }}\r\n        />\r\n      </Box>\r\n\r\n      {error ? (\r\n        <Box textAlign=\"center\">\r\n          <Typography variant=\"h6\" color=\"error\" sx={{ fontFamily: \"Poppins\" }}>\r\n            {error}\r\n          </Typography>\r\n        </Box>\r\n      ) : (\r\n        profile && (\r\n          <Box\r\n            sx={{\r\n              maxWidth: 450,\r\n              minWidth: { xs: \"90%\", sm: 450 },\r\n              mx: \"auto\",\r\n              p: 3,\r\n              bgcolor: \"background.paper\",\r\n              borderRadius: 2,\r\n              boxShadow: \"0px 4px 10px rgba(0, 0, 0, 0.1)\",\r\n              textAlign: \"center\",\r\n              transition: \"transform 0.3s, box-shadow 0.3s\",\r\n              \"&:hover\": {\r\n                transform: \"translateY(-5px)\",\r\n                boxShadow: \"0px 8px 20px rgba(0, 0, 0, 0.2)\",\r\n              },\r\n            }}\r\n          >\r\n            <Typography\r\n              variant=\"h4\"\r\n              gutterBottom\r\n              sx={{\r\n                fontFamily: \"Poppins\",\r\n                textAlign: \"center\",\r\n                fontWeight: \"bold\",\r\n              }}\r\n            >\r\n              User Profile\r\n            </Typography>\r\n            <Box display=\"flex\" justifyContent=\"center\" mb={3}>\r\n              <Avatar\r\n                src={profile.profilePicture || currentDefaultAvatar}\r\n                alt={profile.username || \"User\"}\r\n                sx={{ width: 120, height: 120, border: \"3px solid #1976d2\" }}\r\n              />\r\n            </Box>\r\n            <Box>\r\n              {error && (\r\n                <Typography\r\n                  color=\"error\"\r\n                  mb={2}\r\n                  textAlign=\"center\"\r\n                  sx={{ fontFamily: \"Poppins\" }}\r\n                >\r\n                  {error}\r\n                </Typography>\r\n              )}\r\n              <Box\r\n                mb={2}\r\n                display=\"flex\"\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n              >\r\n                <AccountCircle sx={{ mr: 1, color: \"#1976d2\" }} />\r\n                <Typography variant=\"subtitle1\" sx={{ fontFamily: \"Poppins\" }}>\r\n                  <strong>Username:</strong> {profile.username}\r\n                </Typography>\r\n              </Box>\r\n              <Box\r\n                mb={2}\r\n                display=\"flex\"\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n              >\r\n                <SportsEsports sx={{ mr: 1, color: \"#1976d2\" }} />\r\n                <Typography variant=\"subtitle1\" sx={{ fontFamily: \"Poppins\" }}>\r\n                  <strong>ELO:</strong> {profile.elo || \"N/A\"}\r\n                </Typography>\r\n              </Box>\r\n              <Box\r\n                mb={2}\r\n                display=\"flex\"\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n              >\r\n                <Cake sx={{ mr: 1, color: \"#1976d2\" }} />\r\n                <Typography variant=\"subtitle1\" sx={{ fontFamily: \"Poppins\" }}>\r\n                  <strong>Date of Birth:</strong>{\" \"}\r\n                  {isCurrentUser && isEditing.dob ? (\r\n                    <TextField\r\n                      fullWidth\r\n                      type=\"date\"\r\n                      label=\"Date of Birth\"\r\n                      value={profile.dob || \"\"}\r\n                      onChange={(e) =>\r\n                        handleProfileChange(\"dob\", e.target.value)\r\n                      }\r\n                      onKeyPress={(e) =>\r\n                        e.key === \"Enter\" && handleFieldSave(\"dob\")\r\n                      }\r\n                      sx={{ fontFamily: \"Poppins\" }}\r\n                      inputProps={{\r\n                        style: {\r\n                          fontFamily: \"Poppins, sans-serif\",\r\n                        },\r\n                      }}\r\n                      InputLabelProps={{\r\n                        style: {\r\n                          fontFamily: \"Poppins, sans-serif\",\r\n                        },\r\n                      }}\r\n                    />\r\n                  ) : (\r\n                    profile.dob || \"N/A\"\r\n                  )}\r\n                  {isCurrentUser && (\r\n                    <IconButton\r\n                      onClick={() => {\r\n                        if (isEditing.dob) {\r\n                          handleFieldSave(\"dob\");\r\n                        } else {\r\n                          handleEditToggle(\"dob\");\r\n                        }\r\n                      }}\r\n                    >\r\n                      {isEditing.dob ? (\r\n                        savingField === \"dob\" ? (\r\n                          <CircularProgress size={20} />\r\n                        ) : (\r\n                          <SaveIcon />\r\n                        )\r\n                      ) : (\r\n                        <EditIcon />\r\n                      )}\r\n                    </IconButton>\r\n                  )}\r\n                </Typography>\r\n              </Box>\r\n              <Box\r\n                mb={2}\r\n                display=\"flex\"\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n              >\r\n                <Info sx={{ mr: 1, color: \"#1976d2\" }} />\r\n                <Typography variant=\"subtitle1\" sx={{ fontFamily: \"Poppins\" }}>\r\n                  <strong>Bio:</strong>{\" \"}\r\n                  {isCurrentUser && isEditing.bio ? (\r\n                    <TextField\r\n                      fullWidth\r\n                      multiline\r\n                      label=\"Bio\"\r\n                      rows={3}\r\n                      value={profile.bio || \"\"}\r\n                      onChange={(e) =>\r\n                        handleProfileChange(\"bio\", e.target.value)\r\n                      }\r\n                      onKeyPress={(e) =>\r\n                        e.key === \"Enter\" && handleFieldSave(\"bio\")\r\n                      }\r\n                      sx={{ fontFamily: \"Poppins\" }}\r\n                      inputProps={{\r\n                        style: {\r\n                          fontFamily: \"Poppins, sans-serif\",\r\n                        },\r\n                      }}\r\n                      InputLabelProps={{\r\n                        style: {\r\n                          fontFamily: \"Poppins, sans-serif\",\r\n                        },\r\n                      }}\r\n                    />\r\n                  ) : (\r\n                    profile.bio || \"No bio set\"\r\n                  )}\r\n                  {isCurrentUser && (\r\n                    <IconButton\r\n                      onClick={() => {\r\n                        if (isEditing.bio) {\r\n                          handleFieldSave(\"bio\");\r\n                        } else {\r\n                          handleEditToggle(\"bio\");\r\n                        }\r\n                      }}\r\n                    >\r\n                      {isEditing.bio ? (\r\n                        savingField === \"bio\" ? (\r\n                          <CircularProgress size={20} />\r\n                        ) : (\r\n                          <SaveIcon />\r\n                        )\r\n                      ) : (\r\n                        <EditIcon />\r\n                      )}\r\n                    </IconButton>\r\n                  )}\r\n                </Typography>\r\n              </Box>\r\n              {[\"github\", \"linkedin\", \"facebook\", \"instagram\", \"twitter\"].map(\r\n                (platform) => (\r\n                  <Box\r\n                    key={platform}\r\n                    mb={2}\r\n                    display=\"flex\"\r\n                    alignItems=\"center\"\r\n                    justifyContent=\"center\"\r\n                  >\r\n                    {platform === \"github\" && (\r\n                      <GitHub sx={{ mr: 1, color: \"#1976d2\" }} />\r\n                    )}\r\n                    {platform === \"linkedin\" && (\r\n                      <LinkedIn sx={{ mr: 1, color: \"#1976d2\" }} />\r\n                    )}\r\n                    {platform === \"facebook\" && (\r\n                      <Facebook sx={{ mr: 1, color: \"#1976d2\" }} />\r\n                    )}\r\n                    {platform === \"instagram\" && (\r\n                      <Instagram sx={{ mr: 1, color: \"#1976d2\" }} />\r\n                    )}\r\n                    {platform === \"twitter\" && (\r\n                      <Twitter sx={{ mr: 1, color: \"#1976d2\" }} />\r\n                    )}\r\n                    {isCurrentUser && isEditing[platform] ? (\r\n                      <TextField\r\n                        fullWidth\r\n                        label={\r\n                          platform.charAt(0).toUpperCase() + platform.slice(1)\r\n                        }\r\n                        value={profile.socialMedia?.[platform] || \"\"}\r\n                        onChange={(e) =>\r\n                          handleSocialMediaChange(platform, e.target.value)\r\n                        }\r\n                        onKeyPress={(e) =>\r\n                          e.key === \"Enter\" && handleSocialMediaSave(platform)\r\n                        }\r\n                        sx={{ fontFamily: \"Poppins\" }}\r\n                        inputProps={{\r\n                          style: {\r\n                            fontFamily: \"Poppins, sans-serif\",\r\n                          },\r\n                        }}\r\n                        InputLabelProps={{\r\n                          style: {\r\n                            fontFamily: \"Poppins, sans-serif\",\r\n                          },\r\n                        }}\r\n                      />\r\n                    ) : profile.socialMedia?.[platform] ? (\r\n                      <Button\r\n                        href={formatSocialLink(\r\n                          platform,\r\n                          profile.socialMedia?.[platform],\r\n                        )}\r\n                        target=\"_blank\"\r\n                        sx={{ fontFamily: \"Poppins\" }}\r\n                      >\r\n                        {profile.socialMedia?.[platform]}\r\n                      </Button>\r\n                    ) : (\r\n                      <Typography\r\n                        variant=\"subtitle1\"\r\n                        sx={{ fontFamily: \"Poppins\" }}\r\n                      >\r\n                        Not Set\r\n                      </Typography>\r\n                    )}\r\n                    {isCurrentUser && (\r\n                      <IconButton\r\n                        onClick={() => {\r\n                          if (isEditing[platform]) {\r\n                            handleSocialMediaSave(platform);\r\n                          } else {\r\n                            handleEditToggle(platform);\r\n                          }\r\n                        }}\r\n                      >\r\n                        {isEditing[platform] ? (\r\n                          loadingPlatform[platform] ? (\r\n                            <CircularProgress size={20} />\r\n                          ) : (\r\n                            <SaveIcon />\r\n                          )\r\n                        ) : (\r\n                          <EditIcon />\r\n                        )}\r\n                      </IconButton>\r\n                    )}\r\n                  </Box>\r\n                ),\r\n              )}\r\n            </Box>\r\n          </Box>\r\n        )\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}